Updates the data source if necessary.